<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GOWES SHOP - Ulasan</title>
  <style>
    :root{--bg:#060b1a;--bg2:#0b1430;--text:#eaf0ff;--muted:#b9c7ff;--line:rgba(255,255,255,.08);--shadow:0 12px 40px rgba(0,0,0,.35);--radius:14px}
    *{box-sizing:border-box} html,body{height:100%}

  
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);
      background:
        linear-gradient(120deg, rgba(5,10,24,0.92), rgba(5,10,24,0.70) 45%, rgba(5,10,24,0.92)),
        url("/assets/images/bg-sepeda.jpg") center/cover no-repeat fixed;
      background-color: var(--bg);
    }

    a{color:inherit;text-decoration:none}
    .container{width:min(1100px,92%);margin:0 auto}
    .header{position:sticky;top:0;z-index:20;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);background:rgba(6,11,26,.75);border-bottom:1px solid var(--line)}
    .header-inner{display:flex;align-items:center;justify-content:space-between;padding:18px 0;gap:16px}
    .brand{display:flex;flex-direction:column;gap:2px}
    .brand .title{font-size:26px;font-weight:800}
    .brand .subtitle{font-size:13px;color:var(--muted)}
    .badge{border:1px solid rgba(110,168,255,.45);background:rgba(110,168,255,.14);padding:7px 12px;border-radius:999px;font-size:13px;display:flex;gap:10px;align-items:center}
    .badge button{border:1px solid var(--line);background:rgba(255,255,255,.06);color:var(--text);padding:6px 10px;border-radius:999px;cursor:pointer;font-size:12px}

    .nav{display:flex;flex-wrap:wrap;gap:10px;align-items:center;padding:0 0 16px}
    .nav a{font-size:13px;padding:8px 12px;border:1px solid var(--line);border-radius:999px;color:var(--muted);transition:.2s}
    .nav a:hover{border-color:rgba(110,168,255,.35);color:var(--text)}
    .nav a.active{background:rgba(110,168,255,.18);border-color:rgba(110,168,255,.55);color:var(--text)}

    .main{padding:26px 0 60px}
    .card{background:rgba(13,26,58,.62);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow)}
    .section{padding:18px}
    .section-title{font-size:22px;font-weight:800;margin:0 0 12px}
    .lead{color:var(--muted);margin:0 0 16px;line-height:1.6}
    .hr{height:1px;background:var(--line);margin:16px 0}

    .layout{display:grid;grid-template-columns:1fr 1.5fr;gap:14px}
    @media(max-width:900px){.layout{grid-template-columns:1fr}}

    .box{padding:14px;border:1px solid var(--line);border-radius:14px;background:rgba(255,255,255,.03)}
    label{display:block;margin:10px 0 6px;color:var(--muted);font-size:12px}
    input,select,textarea{
      width:100%;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.04);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      outline:none;
      font-size:13px;
    }
    textarea{min-height:110px;resize:vertical}
    input:focus,select:focus,textarea:focus{border-color:rgba(110,168,255,.45)}

    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px}
    .btn{display:inline-flex;align-items:center;justify-content:center;border-radius:10px;padding:10px 14px;border:1px solid rgba(110,168,255,.40);background:rgba(110,168,255,.12);color:var(--text);cursor:pointer;font-weight:700;font-size:13px}
    .btn.secondary{background:rgba(255,255,255,.06);border-color:var(--line);color:var(--muted);font-weight:600}
    .btn.danger{border-color:rgba(255,255,255,.12);background:rgba(255,0,0,.08)}
    .btn.danger:hover{border-color:rgba(255,80,80,.45)}

    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}
    @media (max-width:900px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (max-width:600px){.grid{grid-template-columns:1fr}}

    .review{padding:14px;border:1px solid var(--line);border-radius:14px;background:rgba(255,255,255,.03);display:flex;flex-direction:column;gap:8px}
    .stars{letter-spacing:1px}
    .who{font-size:12px;color:var(--muted)}
    .who b{color:var(--text)}
    .meta{font-size:12px;color:var(--muted)}
    .empty{padding:18px;border:1px dashed rgba(255,255,255,.18);border-radius:14px;color:var(--muted);background:rgba(255,255,255,.02)}

    .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.10);background:rgba(10,16,40,.9);color:#eaf0ff;z-index:9999;font-size:13px}
    .footer{border-top:1px solid var(--line);padding:18px 0;color:var(--muted);font-size:12px}
  </style>
</head>
<body>

<header class="header">
  <div class="container">
    <div class="header-inner">
      <div class="brand">
        <div class="title">üö¥‚Äç‚ôÇÔ∏è GOWES SHOP</div>
        <div class="subtitle">Tulis ulasan sendiri & simpan (localStorage)</div>
      </div>
      <div class="badge">
        <span id="cartBadge">Keranjang: 0</span>
        <button onclick="location.href='pembelian.html'">Checkout</button>
      </div>
    </div>

    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="Etalase.html">Etalase</a>
      <a href="produk.html">Produk</a>
      <a href="aksesoris.html">Aksesoris</a>
      <a href="kupon.html">Kupon</a>
      <a href="paylater.html">PayLater</a>
      <a href="pembelian.html">Pembelian</a>
      <a href="riwayat.html">Riwayat</a>
      <a href="ulasan.html" class="active">Ulasan</a>
      <a href="kontak.html">Kontak</a>
    </nav>
  </div>
</header>

<main class="main">
  <div class="container">
    <section class="card section">
      <h1 class="section-title">Ulasan</h1>
      <p class="lead">
        Isi ulasan kamu sendiri. Ulasan akan tampil di bawah dan tersimpan di browser (localStorage).
      </p>

      <div class="hr"></div>

      <div class="layout">
        <div class="box">
          <form id="reviewForm">
            <label for="name">Nama</label>
            <input id="name" placeholder="Nama kamu" required />

            <label for="city">Kota</label>
            <input id="city" placeholder="Contoh: Bandung" required />

            <label for="product">Produk</label>
            <input id="product" placeholder="Contoh: MTB Trail 27.5" required />

            <label for="rating">Rating</label>
            <select id="rating" required>
              <option value="">Pilih rating</option>
              <option value="5">5 - Sangat Puas</option>
              <option value="4">4 - Puas</option>
              <option value="3">3 - Cukup</option>
              <option value="2">2 - Kurang</option>
              <option value="1">1 - Buruk</option>
            </select>

            <label for="comment">Komentar</label>
            <textarea id="comment" placeholder="Tulis ulasan kamu..." required></textarea>

            <div class="row">
              <button class="btn" type="submit">Simpan Ulasan</button>
              <button class="btn secondary" type="reset">Reset</button>
            </div>

            <div class="row" style="margin-top:10px">
              <button class="btn danger" type="button" id="btnClearAll">Hapus Semua Ulasan</button>
            </div>
          </form>
        </div>

        <div>
          <div id="emptyState" class="empty" style="display:none">
            Belum ada ulasan. Isi form di sebelah kiri untuk menambahkan.
          </div>
          <div class="grid" id="reviewGrid"></div>
        </div>
      </div>
    </section>

    <div class="footer">¬© 2026 Gowes Shop</div>
  </div>
</main>

<script>
  const LS_CART="toko_sepeda_cart";
  const LS_REVIEWS="toko_sepeda_reviews";

  function getCart(){try{return JSON.parse(localStorage.getItem(LS_CART))||[]}catch{return[]}}
  function cartCount(){return getCart().reduce((a,x)=>a+(x.qty||0),0)}
  function updateBadge(){const el=document.getElementById("cartBadge"); if(el) el.textContent="Keranjang: "+cartCount();}

  function toast(msg){
    const t=document.createElement("div");
    t.className="toast"; t.textContent=msg;
    document.body.appendChild(t);
    setTimeout(()=>t.remove(),1600);
  }

  function starText(n){
    n = Math.max(1, Math.min(5, Number(n||0)));
    return "‚òÖ".repeat(n) + "‚òÜ".repeat(5-n);
  }

  function getReviews(){ try { return JSON.parse(localStorage.getItem(LS_REVIEWS)) || []; } catch { return []; } }
  function setReviews(list){ localStorage.setItem(LS_REVIEWS, JSON.stringify(list)); }

  function render(){
    updateBadge();
    const grid=document.getElementById("reviewGrid");
    const empty=document.getElementById("emptyState");
    const reviews = getReviews().slice().reverse();

    if(!reviews.length){
      grid.innerHTML="";
      empty.style.display="block";
      return;
    }
    empty.style.display="none";

    grid.innerHTML = reviews.map(r=>`
      <div class="review">
        <div class="stars">${starText(r.stars)} ‚Äî <b>${r.product}</b></div>
        <div style="color:var(--text);font-weight:700">"${r.text}"</div>
        <div class="who">‚Äî <b>${r.name}</b>, ${r.city}</div>
        <div class="meta">${new Date(r.createdAt).toLocaleString("id-ID")}</div>
        <div class="row" style="justify-content:flex-end;margin-top:4px">
          <button class="btn secondary" data-del="${r.id}">Hapus</button>
        </div>
      </div>
    `).join("");

    grid.querySelectorAll("[data-del]").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const id = btn.getAttribute("data-del");
        const remain = getReviews().filter(x=>String(x.id)!==String(id));
        setReviews(remain);
        toast("Ulasan dihapus");
        render();
      });
    });
  }

  document.addEventListener("DOMContentLoaded", ()=>{
    render();

    const form=document.getElementById("reviewForm");
    form.addEventListener("submit", (e)=>{
      e.preventDefault();

      const name=document.getElementById("name").value.trim();
      const city=document.getElementById("city").value.trim();
      const product=document.getElementById("product").value.trim();
      const stars=Number(document.getElementById("rating").value);
      const text=document.getElementById("comment").value.trim();

      if(!name || !city || !product || !stars || !text){
        toast("Lengkapi semua field");
        return;
      }

      const reviews=getReviews();
      reviews.push({
        id: "REV-" + Date.now(),
        createdAt: new Date().toISOString(),
        name, city, product, stars, text
      });

      setReviews(reviews);
      toast("Ulasan tersimpan");
      form.reset();
      render();
    });

    document.getElementById("btnClearAll").addEventListener("click", ()=>{
      if(!confirm("Yakin hapus semua ulasan?")) return;
      setReviews([]);
      toast("Semua ulasan dihapus");
      render();
    });
  });
</script>

</body>
</html>
